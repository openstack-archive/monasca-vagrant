{
  "name": "Mini-Mon",
  "description": "Sets up the entire monitoring stack on one box",
  "json_class": "Chef::Role",
  "default_attributes": {
    "apt": {
      "periodic_update_min_delay": 60
    },
    "monasca_agent": {
      "plugin": {
        "host_alive": {
          "init_config": {
            "ssh_port": 22,
            "ssh_timeout": 0.5,
            "ping_timeout": 1
          },
          "instances": {
            "devstack": {
              "name": "devstack",
              "host_name": "192.168.10.5",
              "alive_test": "ssh"
            }
          }
        }
      }
    },
    "influxdb": {
      "config": {
        "logging": {
          "file": "/opt/influxdb/shared/influxdb.log"
        },
        "raft": {
          "port": 9090
        }
      },
      "version": "0.8.1"
    },
    "java": {
      "install_flavor": "openjdk",
      "jdk_version": "7"
    },
    "percona": {
      "backup": {
        "password": "password"
      },
      "cluster": {
        "package": "percona-xtradb-cluster-56"
      },
      "main_config_file": "/etc/mysql/my.cnf",
      "server": {
        "bind_address": "0.0.0.0",
        "replication": {
          "password": "password"
        },
        "root_password": "password",
        "skip_name_resolve": true
      }
    },
    "storm": {
      "nimbus": {
        "host": {
          "fqdn": "127.0.0.1"
        }
      },
      "ui": {
        "port": "8088"
      },
      "zookeeper": {
        "quorum": [
          "127.0.0.1"
        ]
      }
    }
  },
  "override_attributes": {
  },
  "chef_type": "role",
  "run_list": [
    "recipe[mini-mon]",
    "recipe[percona::cluster]",
    "recipe[monasca_schema::mysql]",
    "recipe[mini-mon::postfix]",
    "recipe[influxdb]",
    "recipe[monasca_schema::influxdb]",
    "recipe[sysctl]",
    "recipe[monasca_api]",
    "recipe[storm::nimbus]",
    "recipe[storm::supervisor]",
    "recipe[monasca_thresh]",
    "recipe[monasca_agent]"
  ],
  "env_run_lists": {
  }
}
